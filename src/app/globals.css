@import url('https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --gb-darkest: #0f380f;
  --gb-dark: #306230;
  --gb-light: #8bac0f;
  --gb-lightest: #9bbc0f;
  --font-pixel: 'Press Start 2P', monospace;
}

* {
  image-rendering: pixelated;
}

body {
  font-family: var(--font-pixel);
  background: linear-gradient(145deg, #2d2d2d 0%, #1a1a1a 100%);
  min-height: 100vh;
}

/* LCD Screen Effect */
.lcd-screen {
  background: var(--gb-lightest);
  position: relative;
  overflow: hidden;
}

.lcd-screen::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: repeating-linear-gradient(
    0deg,
    rgba(0, 0, 0, 0.03) 0px,
    rgba(0, 0, 0, 0.03) 1px,
    transparent 1px,
    transparent 2px
  );
  pointer-events: none;
  z-index: 10;
}

.lcd-screen::after {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: radial-gradient(
    ellipse at center,
    transparent 0%,
    rgba(15, 56, 15, 0.1) 100%
  );
  pointer-events: none;
  z-index: 11;
}

/* Scanline animation overlay */
.scanlines {
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(
    to bottom,
    transparent 50%,
    rgba(0, 0, 0, 0.02) 50%
  );
  background-size: 100% 4px;
  pointer-events: none;
  z-index: 12;
}

/* Pixel text styling */
.pixel-text {
  font-family: var(--font-pixel);
  color: var(--gb-darkest);
  text-shadow: none;
  letter-spacing: 0.05em;
}

.pixel-text-light {
  font-family: var(--font-pixel);
  color: var(--gb-light);
}

/* Gameboy button styles */
.gb-button {
  @apply relative px-6 py-3 font-pixel text-xs uppercase tracking-wider;
  background: linear-gradient(180deg, #9a3c8f 0%, #7a1c6f 100%);
  color: #2a0a2a;
  border-radius: 50%;
  box-shadow:
    0 4px 0 #4a0a4a,
    0 6px 8px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
  transition: all 0.1s;
}

.gb-button:active {
  transform: translateY(2px);
  box-shadow:
    0 2px 0 #4a0a4a,
    0 3px 4px rgba(0, 0, 0, 0.4),
    inset 0 1px 0 rgba(255, 255, 255, 0.2);
}

.gb-button-a {
  @apply w-14 h-14 rounded-full flex items-center justify-center;
  background: linear-gradient(180deg, #a83c9f 0%, #881c78 100%);
  box-shadow:
    0 4px 0 #580858,
    0 6px 8px rgba(0, 0, 0, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.3);
}

.gb-button-b {
  @apply w-14 h-14 rounded-full flex items-center justify-center;
  background: linear-gradient(180deg, #a83c9f 0%, #881c78 100%);
  box-shadow:
    0 4px 0 #580858,
    0 6px 8px rgba(0, 0, 0, 0.4),
    inset 0 2px 0 rgba(255, 255, 255, 0.3);
}

/* D-Pad styling */
.dpad {
  @apply relative w-24 h-24;
}

.dpad-center {
  @apply absolute top-1/2 left-1/2 w-8 h-8 -translate-x-1/2 -translate-y-1/2;
  background: #2a2a2a;
  border-radius: 2px;
}

.dpad-btn {
  @apply absolute flex items-center justify-center;
  background: linear-gradient(180deg, #3a3a3a 0%, #2a2a2a 100%);
  box-shadow: inset 0 -2px 0 #1a1a1a;
}

.dpad-up {
  @apply top-0 left-1/2 -translate-x-1/2 w-8 h-8;
  border-radius: 4px 4px 0 0;
}

.dpad-down {
  @apply bottom-0 left-1/2 -translate-x-1/2 w-8 h-8;
  border-radius: 0 0 4px 4px;
}

.dpad-left {
  @apply left-0 top-1/2 -translate-y-1/2 w-8 h-8;
  border-radius: 4px 0 0 4px;
}

.dpad-right {
  @apply right-0 top-1/2 -translate-y-1/2 w-8 h-8;
  border-radius: 0 4px 4px 0;
}

/* Menu styling */
.gb-menu-item {
  @apply py-2 px-4 cursor-pointer transition-all duration-100;
}

.gb-menu-item:hover,
.gb-menu-item.selected {
  @apply bg-gb-dark text-gb-lightest;
}

.gb-menu-cursor {
  @apply inline-block mr-2 animate-blink;
}

/* Progress bar */
.gb-progress {
  @apply h-4 bg-gb-dark border-2 border-gb-darkest;
}

.gb-progress-fill {
  @apply h-full bg-gb-darkest transition-all duration-300;
  background: repeating-linear-gradient(
    90deg,
    var(--gb-darkest) 0px,
    var(--gb-darkest) 4px,
    var(--gb-dark) 4px,
    var(--gb-dark) 8px
  );
}

/* Card/Panel styling */
.gb-panel {
  @apply border-4 border-gb-darkest bg-gb-light p-4;
  box-shadow:
    inset 2px 2px 0 var(--gb-lightest),
    inset -2px -2px 0 var(--gb-dark);
}

/* Selection arrow */
.selection-arrow {
  display: inline-block;
  width: 0;
  height: 0;
  border-top: 6px solid transparent;
  border-bottom: 6px solid transparent;
  border-left: 8px solid var(--gb-darkest);
  margin-right: 8px;
}

/* Blinking cursor for text input */
.cursor-blink::after {
  content: '_';
  animation: blink 1s step-start infinite;
}

/* Stats display */
.stat-row {
  @apply flex justify-between items-center py-1 border-b border-gb-dark;
}

.stat-row:last-child {
  @apply border-b-0;
}

/* Loading dots animation */
.loading-dots::after {
  content: '';
  animation: dots 1.5s steps(4, end) infinite;
}

@keyframes dots {
  0%, 20% { content: ''; }
  40% { content: '.'; }
  60% { content: '..'; }
  80%, 100% { content: '...'; }
}

/* Typewriter effect */
.typewriter {
  overflow: hidden;
  border-right: 2px solid var(--gb-darkest);
  white-space: nowrap;
  animation:
    typing 2s steps(30, end),
    blink-caret 0.75s step-end infinite;
}

@keyframes typing {
  from { width: 0 }
  to { width: 100% }
}

@keyframes blink-caret {
  from, to { border-color: transparent }
  50% { border-color: var(--gb-darkest) }
}

/* Pixel-perfect borders */
.pixel-border {
  box-shadow:
    -4px 0 0 0 var(--gb-darkest),
    4px 0 0 0 var(--gb-darkest),
    0 -4px 0 0 var(--gb-darkest),
    0 4px 0 0 var(--gb-darkest);
}
